#!/bin/sh
# Script: cig-load-status-sections
# Version: v0.1.1-5-gcea1c19
# Source: https://github.com/OWNER/REPO
# Purpose: Extracts "Current Status" sections from task markdown files
# Replaces: find implementation-guide -name "*.md" -exec grep -l "Current Status" {} \; | xargs grep -A 3 "Current Status"

if [ ! -d "implementation-guide" ]; then
    echo "No implementation guide directory found"
    exit 0
fi

# Find files containing "Current Status" and extract that section
find implementation-guide -name "*.md" -type f -exec grep -l "Current Status" {} \; | while read -r file; do
    if [ -f "$file" ]; then
        echo "=== $file ==="
        grep -A 3 "Current Status" "$file" 2>/dev/null || true
        echo
    fi
done